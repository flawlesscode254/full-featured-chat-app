{"version":3,"sources":["Message.js","music/note.mp3","App.js","index.js"],"names":["Message","forwardRef","ref","message","username","vims","new_time","isUser","className","Card","CardContent","Typography","color","variant","component","type","hidden","src","alt","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","store","storage","SignIn","Button","onClick","provider","GoogleAuthProvider","signInWithPopup","SignOut","currentUser","style","marginTop","signOut","ChatRoom","useState","input","setInput","messages","setMessages","setUsername","image","setImage","progress","setProgress","onAuthStateChanged","user","document","getElementById","innerHTML","displayName","photoURL","useEffect","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","one_song","Audio","Received","play","refer","status","state","timeout","update","opacity","e","date","hours","getHours","minutes","getMinutes","ampm","strTime","getMonth","getDate","getFullYear","formatDate","Date","FormControl","for","IconButton","disabled","event","preventDefault","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","child","getDownloadURL","then","url","add","timestamp","FieldValue","serverTimestamp","accept","onChange","target","files","Input","onKeyUp","clearTimeout","setTimeout","placeholder","value","App","useAuthState","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.abb9df96.chunk.js","sourcesContent":["import { Card, CardContent, Typography } from '@material-ui/core'\nimport React, { forwardRef } from 'react';\nimport './Message.css'\n\n\nconst Message = forwardRef(({ message, username, vims, new_time }, ref) => {\n    const isUser = username === message.username;\n    return (\n        <div ref={ref} className={`message ${isUser && `message__user`}`}>\n            <p className=\"message__name\">{!isUser && `${message.username || 'Unknown User'}`}</p>\n            <Card className={isUser ? \"message__userCard\" : \"message__guestCard\"}>\n                <CardContent>\n                    <Typography\n                    color=\"white\"\n                    variant=\"h5\"\n                    component=\"h2\"\n                    >\n                         {message.message}\n                    </Typography>\n                    {vims.vims === \"\" ? <input type=\"text\" hidden /> : <img className=\"new__vim\" src={vims.vims} alt=\"\"  />} \n                    \n                    <p className={isUser ? \"teller_user\" : \"teller_guest\"}>{new_time.new_time}</p>\n                    <p></p>\n                </CardContent>\n            </Card>\n        </div>\n    )\n})\n\nexport default Message\n","export default __webpack_public_path__ + \"static/media/note.b5001cf6.mp3\";","import { Button, Input } from '@material-ui/core';\nimport { FormControl } from '@material-ui/core';\nimport { useEffect, useState } from 'react';\nimport './App.css';\nimport Message from './Message';\nimport firebase from 'firebase';\nimport FlipMove from 'react-flip-move';\nimport SendIcon from '@material-ui/icons/Send';\nimport { IconButton } from '@material-ui/core';\nimport Received from './music/note.mp3'\nimport AttachmentIcon from '@material-ui/icons/Attachment';\nimport 'firebase/storage'\n\n\n\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nfirebase.initializeApp({\n  // your config\n  apiKey: \"AIzaSyCkmvDNXY-qPXyFuFsfEqDUNtLfQ1Ww764\",\n  authDomain: \"messenger-clone-94aa1.firebaseapp.com\",\n  projectId: \"messenger-clone-94aa1\",\n  storageBucket: \"messenger-clone-94aa1.appspot.com\",\n  messagingSenderId: \"552364157176\",\n  appId: \"1:552364157176:web:c93350194f54836029730d\",\n  measurementId: \"G-TN730N5Y1R\"\n})\n\nconst auth = firebase.auth();\nconst db = firebase.firestore();\nconst store = firebase.storage()\n\nfunction App() {\n\n  const [user] = useAuthState(auth);\n\n  return (\n    <div className=\"App\">\n      <header>\n        <SignOut />\n      </header>\n\n      <section>\n        {user ? <ChatRoom /> : <SignIn />}\n      </section>\n\n    </div>\n  );\n}\n\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  }\n\n  return (\n    <div className=\"signed\">\n      <Button variant=\"contained\" color=\"primary\" className=\"sign-in\" onClick={signInWithGoogle}>Sign in with Google</Button>\n    </div>\n  )\n\n}\n\nfunction SignOut() {\n  return auth.currentUser && (\n    <Button variant=\"outlined\" style={{marginTop: '10px'}} color=\"primary\" className=\"sign-out\" onClick={() => auth.signOut()}>Sign Out</Button>\n  )\n}\n\n\nfunction ChatRoom() {\n  const [input, setInput] = useState('')\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState('')\n  const[image, setImage] = useState(null)\n  const[progress, setProgress] = useState(0)\n\n  firebase.auth().onAuthStateChanged(function(user) {\n    if (user) {\n      // User is signed in.\n      document.getElementById(\"name_user\").innerHTML = user.displayName\n      document.getElementById('mew').src = user.photoURL\n    } else {\n      // No user is signed in.\n    }\n  });\n\n  \n \n\n  useEffect(() => {\n      db.collection('messages')\n      .orderBy('timestamp', 'desc')\n      .onSnapshot(snapshot => {\n        setMessages(snapshot.docs.map(doc => (\n          {\n            id: doc.id,\n            vims: doc.data(), \n            message: doc.data(), \n            new_time: doc.data()\n          })))\n      }) \n          \n  }, [] )\n\n  let one_song = new Audio(Received)\n\n  useEffect(() => {\n      one_song.play()\n  }, [messages])\n  \n\n  useEffect(() => {\n    setUsername(document.getElementById('name_user').innerHTML)\n  }, [])\n\n  useEffect(() => {\n    const refer = document.getElementById('name_user').innerHTML\n    if(refer === \"Duncan Kipkemoi\"){\n      const myPost =  db.collection('online').doc(\"Easy Way Out Coding\");\n      myPost.onSnapshot(doc => {\n        const data = doc.data();\n        if(data.status === \"Online\"){\n          document.getElementById(\"long\").innerHTML = \"Easy Way Out Coding is \" + data.status;\n        }\n        else{\n          document.getElementById(\"long\").innerHTML = \"Last seen \" + data.status;\n        }\n      })\n    }\n    else if(refer === \"Easy Way Out Coding\"){\n      const myPost =  db.collection('online').doc(\"Duncan Kipkemoi\");\n      myPost.onSnapshot(doc => {\n        const data = doc.data();\n        if(data.status === \"Online\"){\n          document.getElementById(\"long\").innerHTML = \"Duncan Kipkemoi is \" + data.status;\n        }\n        else{\n          document.getElementById(\"long\").innerHTML = \"Last seen \" + data.status;\n        }\n      })\n    }\n    \n  }, [messages])\n\n  useEffect(() => {\n    const refer = document.getElementById('name_user').innerHTML\n    if(refer === \"Duncan Kipkemoi\"){\n      const myPost =  db.collection('typing').doc(\"Easy Way Out Coding\");\n      myPost.onSnapshot(doc => {\n        const data = doc.data();\n        if(data.state === \"Typing\"){\n          document.getElementById(\"good\").innerHTML = \"Easy Way Out Coding is \" + data.state + \"....\"\n        }\n        else{\n          document.getElementById(\"good\").innerHTML = data.state\n        }\n      })\n    }\n    else if(refer === \"Easy Way Out Coding\"){\n      const myPost =  db.collection('typing').doc(\"Duncan Kipkemoi\");\n      myPost.onSnapshot(doc => {\n        const data = doc.data();\n        if(data.state === \"Typing\"){\n          document.getElementById(\"good\").innerHTML = \"Duncan Kipkemoi \" + data.state + \"....\"\n        }\n        else{\n          document.getElementById(\"good\").innerHTML = data.state\n        }\n      })\n    }\n    \n  }, [messages])\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n    function formatDate(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n      minutes = minutes < 10 ? '0'+minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return (date.getMonth()+1) + \"/\" + date.getDate() + \"/\" + date.getFullYear() + \"  \" + strTime;\n    }\n    \n    var d = new Date();\n    var e = formatDate(d);\n    \n    db.collection('messages').add({\n      message: input,\n      vims: \"\",\n      username: username,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      new_time: e,\n  });\n\n  setInput('');\n    \n  }\n\n\n  let timeout = null;\n\n  \n  const handleChange = (e) => {\n    db.collection('typing').doc(username).update({\n      state: \"Typing\"\n    })\n      \n      clearTimeout(timeout);\n  \n     \n      timeout = setTimeout(function () {\n        db.collection('typing').doc(username).update({\n          state: \"\"\n        })\n      }, 1000);\n      \n  };\n\n  const handleOff = () => {\n    function formatDate(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n      minutes = minutes < 10 ? '0'+minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return (date.getMonth()+1) + \"/\" + date.getDate() + \"/\" + date.getFullYear() + \"  \" + strTime;\n    }\n    \n    var d = new Date();\n    var e = formatDate(d);\n    \n    db.collection('online').doc(username).update({\n      status: e\n    })\n    document.getElementById(\"remind\").style.opacity = 0\n  }\n\n  const handleOn = () => {\n    db.collection('online').doc(username).update({\n      status: \"Online\"\n    })\n    document.getElementById(\"remind\").style.opacity = 1\n  }\n\n  const handleFile = (e) => {\n    if(e.target.files[0]){\n        setImage(e.target.files[0])\n    }\n}\n\n\n  const handleUpload = (event) => {\n    event.preventDefault()\n    function formatDate(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n      minutes = minutes < 10 ? '0'+minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return (date.getMonth()+1) + \"/\" + date.getDate() + \"/\" + date.getFullYear() + \"  \" + strTime;\n    }\n    \n    var d = new Date();\n    var e = formatDate(d);\n    const uploadTask = store.ref(`images/${image.name}`).put(image)\n    uploadTask.on(\n        \"state_changed\",\n        (snapshot) => {\n            const progress = Math.round(\n                (snapshot.bytesTransferred / snapshot.totalBytes) * 100 \n            )\n            setProgress(progress)\n        },\n        (error) => {\n            console.log(error)\n            alert(error.message)\n        },\n        () => {\n            store\n            .ref(\"images\")\n            .child(image.name)\n            .getDownloadURL()\n            .then(url => {\n                db.collection(\"messages\").add({\n                  vims: url,\n                  username: username,\n                  timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                  new_time: e,\n                })\n                setProgress(0)\n                setImage(null)\n            })\n        }\n    )\n}\n\n  return (\n    <div className=\"App\">\n      <p id=\"good\"></p>\n      <p id=\"long\"></p>\n      <div className=\"titles\">\n        <img src=\"\" alt=\"user\" id=\"mew\"/>\n        <p id=\"name_user\"></p>\n        <h1 className=\"title_head\">D M</h1>\n        <img src=\"https://i.pinimg.com/originals/a8/d7/dc/a8d7dc6b29f48fe6b5201469fee2c452.gif\" alt=\"network\" id=\"remind\"/>\n      </div>\n\n      <div className=\"changers\">\n        <Button variant=\"outlined\" color=\"purple\" onClick={handleOn}>Go Online</Button>\n        <Button variant=\"contained\" color=\"purple\" onClick={handleOff}>Go Offline</Button>\n      </div>\n      \n\n    <form className=\"app__form\">\n      <FormControl className=\"app__formControl\">\n     \n      <label for=\"file-input\">\n        <div className=\"app__iconButton\">\n          <AttachmentIcon />\n          <p>{`${progress} %`}</p>\n          <IconButton\n          className=\"app__iconButton\"\n           disabled={!image} \n           variant=\"contained\" \n           color=\"primary\" \n           type=\"submit\"\n           onClick={handleUpload}\n          >\n            <SendIcon />\n          </IconButton>  \n        </div>\n        \n    </label>\n\n    <input id=\"file-input\" type=\"file\" accept=\".gif, .png, .jpeg\" onChange={handleFile} hidden/>\n      <div className=\"spacer\">\n        <Input onKeyUp={handleChange} className=\"app__Input\" placeholder=\"Enter a message...\" value={input} \n        onChange={event => setInput(event.target.value)}/>\n          <IconButton\n           disabled={!input} \n           variant=\"contained\" \n           color=\"primary\" \n           type=\"submit\"\n           onClick={sendMessage}\n          >\n            <SendIcon  />\n          </IconButton>\n      </div>\n        \n      </FormControl>\n    </form>\n      \n      <FlipMove>\n        {\n          messages.map(({id, message, vims, new_time}) => (\n            <Message \n            key={id} \n            message={message}\n            vims={vims}\n            username={username}\n            new_time={new_time}\n            />\n          ))\n        }\n      </FlipMove>\n    </div>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className=\"wonder\"/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}